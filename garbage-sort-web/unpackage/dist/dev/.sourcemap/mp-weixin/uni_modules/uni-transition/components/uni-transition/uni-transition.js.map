{"version":3,"sources":["webpack:///C:/Users/win/Desktop/repository/Garbage-Classification/garbage-sort-web/uni_modules/uni-transition/components/uni-transition/uni-transition.vue?74e9","webpack:///C:/Users/win/Desktop/repository/Garbage-Classification/garbage-sort-web/uni_modules/uni-transition/components/uni-transition/uni-transition.vue?aba4","webpack:///C:/Users/win/Desktop/repository/Garbage-Classification/garbage-sort-web/uni_modules/uni-transition/components/uni-transition/uni-transition.vue?0fdd","webpack:///C:/Users/win/Desktop/repository/Garbage-Classification/garbage-sort-web/uni_modules/uni-transition/components/uni-transition/uni-transition.vue?0e65","uni-app:///uni_modules/uni-transition/components/uni-transition/uni-transition.vue"],"names":[],"mappings":"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","file":"uni_modules/uni-transition/components/uni-transition/uni-transition.js","sourcesContent":["import { render, staticRenderFns, recyclableRender, components } from \"./uni-transition.vue?vue&type=template&id=6369f8c4&\"\nvar renderjs\nimport script from \"./uni-transition.vue?vue&type=script&lang=js&\"\nexport * from \"./uni-transition.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\runtime\\\\componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null,\n  false,\n  components,\n  renderjs\n)\n\ncomponent.options.__file = \"uni_modules/uni-transition/components/uni-transition/uni-transition.vue\"\nexport default component.exports","export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\loaders\\\\templateLoader.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--16-0!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\template.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-uni-app-loader\\\\page-meta.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-transition.vue?vue&type=template&id=6369f8c4&\"","var components\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n}\nvar recyclableRender = false\nvar staticRenderFns = []\nrender._withStripped = true\n\nexport { render, staticRenderFns, recyclableRender, components }","import mod from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-transition.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\babel-loader\\\\lib\\\\index.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\webpack-preprocess-loader\\\\index.js??ref--12-1!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\script.js!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\vue-cli-plugin-uni\\\\packages\\\\vue-loader\\\\lib\\\\index.js??vue-loader-options!D:\\\\HBuilderX\\\\plugins\\\\uniapp-cli\\\\node_modules\\\\@dcloudio\\\\webpack-uni-mp-loader\\\\lib\\\\style.js!./uni-transition.vue?vue&type=script&lang=js&\"","<template>\n    <view\n        v-if=\"isShow\"\n        ref=\"ani\"\n        :animation=\"animationData\"\n        :class=\"customClass\"\n        :style=\"transformStyles\"\n        @click=\"onClick\"\n    >\n        <slot></slot>\n    </view>\n</template>\n\n<script>\nimport { createAnimation } from './createAnimation';\n\n/**\n * Transition 过渡动画\n * @description 简单过渡动画组件\n * @tutorial https://ext.dcloud.net.cn/plugin?id=985\n * @property {Boolean} show = [false|true] 控制组件显示或隐藏\n * @property {Array|String} modeClass = [fade|slide-top|slide-right|slide-bottom|slide-left|zoom-in|zoom-out] 过渡动画类型\n *  @value fade 渐隐渐出过渡\n *  @value slide-top 由上至下过渡\n *  @value slide-right 由右至左过渡\n *  @value slide-bottom 由下至上过渡\n *  @value slide-left 由左至右过渡\n *  @value zoom-in 由小到大过渡\n *  @value zoom-out 由大到小过渡\n * @property {Number} duration 过渡动画持续时间\n * @property {Object} styles 组件样式，同 css 样式，注意带’-‘连接符的属性需要使用小驼峰写法如：`backgroundColor:red`\n */\nexport default {\n    name: 'uniTransition',\n    emits: ['click', 'change'],\n    props: {\n        show: {\n            type: Boolean,\n            default: false,\n        },\n        modeClass: {\n            type: [Array, String],\n            default() {\n                return 'fade';\n            },\n        },\n        duration: {\n            type: Number,\n            default: 300,\n        },\n        styles: {\n            type: Object,\n            default() {\n                return {};\n            },\n        },\n        customClass: {\n            type: String,\n            default: '',\n        },\n    },\n    data() {\n        return {\n            isShow: false,\n            transform: '',\n            opacity: 1,\n            animationData: {},\n            durationTime: 300,\n            config: {},\n        };\n    },\n    watch: {\n        show: {\n            handler(newVal) {\n                if (newVal) {\n                    this.open();\n                } else {\n                    // 避免上来就执行 close,导致动画错乱\n                    if (this.isShow) {\n                        this.close();\n                    }\n                }\n            },\n            immediate: true,\n        },\n    },\n    computed: {\n        // 生成样式数据\n        stylesObject() {\n            let styles = {\n                ...this.styles,\n                'transition-duration': this.duration / 1000 + 's',\n            };\n            let transform = '';\n            for (let i in styles) {\n                let line = this.toLine(i);\n                transform += line + ':' + styles[i] + ';';\n            }\n            return transform;\n        },\n        // 初始化动画条件\n        transformStyles() {\n            return (\n                'transform:' +\n                this.transform +\n                ';' +\n                'opacity:' +\n                this.opacity +\n                ';' +\n                this.stylesObject\n            );\n        },\n    },\n    created() {\n        // 动画默认配置\n        this.config = {\n            duration: this.duration,\n            timingFunction: 'ease',\n            transformOrigin: '50% 50%',\n            delay: 0,\n        };\n        this.durationTime = this.duration;\n    },\n    methods: {\n        /**\n         *  ref 触发 初始化动画\n         */\n        init(obj = {}) {\n            if (obj.duration) {\n                this.durationTime = obj.duration;\n            }\n            this.animation = createAnimation(\n                Object.assign(this.config, obj),\n                this,\n            );\n        },\n        /**\n         * 点击组件触发回调\n         */\n        onClick() {\n            this.$emit('click', {\n                detail: this.isShow,\n            });\n        },\n        /**\n         * ref 触发 动画分组\n         * @param {Object} obj\n         */\n        step(obj, config = {}) {\n            if (!this.animation) return;\n            for (let i in obj) {\n                try {\n                    if (typeof obj[i] === 'object') {\n                        this.animation[i](...obj[i]);\n                    } else {\n                        this.animation[i](obj[i]);\n                    }\n                } catch (e) {\n                    console.error(`方法 ${i} 不存在`);\n                }\n            }\n            this.animation.step(config);\n            return this;\n        },\n        /**\n         *  ref 触发 执行动画\n         */\n        run(fn) {\n            if (!this.animation) return;\n            this.animation.run(fn);\n        },\n        // 开始过度动画\n        open() {\n            clearTimeout(this.timer);\n            this.transform = '';\n            this.isShow = true;\n            let { opacity, transform } = this.styleInit(false);\n            if (typeof opacity !== 'undefined') {\n                this.opacity = opacity;\n            }\n            this.transform = transform;\n            // 确保动态样式已经生效后，执行动画，如果不加 nextTick ，会导致 wx 动画执行异常\n            this.$nextTick(() => {\n                // TODO 定时器保证动画完全执行，目前有些问题，后面会取消定时器\n                this.timer = setTimeout(() => {\n                    this.animation = createAnimation(this.config, this);\n                    this.tranfromInit(false).step();\n                    this.animation.run();\n                    this.$emit('change', {\n                        detail: this.isShow,\n                    });\n                }, 20);\n            });\n        },\n        // 关闭过度动画\n        close(type) {\n            if (!this.animation) return;\n            this.tranfromInit(true)\n                .step()\n                .run(() => {\n                    this.isShow = false;\n                    this.animationData = null;\n                    this.animation = null;\n                    let { opacity, transform } = this.styleInit(false);\n                    this.opacity = opacity || 1;\n                    this.transform = transform;\n                    this.$emit('change', {\n                        detail: this.isShow,\n                    });\n                });\n        },\n        // 处理动画开始前的默认样式\n        styleInit(type) {\n            let styles = {\n                transform: '',\n            };\n            let buildStyle = (type, mode) => {\n                if (mode === 'fade') {\n                    styles.opacity = this.animationType(type)[mode];\n                } else {\n                    styles.transform += this.animationType(type)[mode] + ' ';\n                }\n            };\n            if (typeof this.modeClass === 'string') {\n                buildStyle(type, this.modeClass);\n            } else {\n                this.modeClass.forEach((mode) => {\n                    buildStyle(type, mode);\n                });\n            }\n            return styles;\n        },\n        // 处理内置组合动画\n        tranfromInit(type) {\n            let buildTranfrom = (type, mode) => {\n                let aniNum = null;\n                if (mode === 'fade') {\n                    aniNum = type ? 0 : 1;\n                } else {\n                    aniNum = type ? '-100%' : '0';\n                    if (mode === 'zoom-in') {\n                        aniNum = type ? 0.8 : 1;\n                    }\n                    if (mode === 'zoom-out') {\n                        aniNum = type ? 1.2 : 1;\n                    }\n                    if (mode === 'slide-right') {\n                        aniNum = type ? '100%' : '0';\n                    }\n                    if (mode === 'slide-bottom') {\n                        aniNum = type ? '100%' : '0';\n                    }\n                }\n                this.animation[this.animationMode()[mode]](aniNum);\n            };\n            if (typeof this.modeClass === 'string') {\n                buildTranfrom(type, this.modeClass);\n            } else {\n                this.modeClass.forEach((mode) => {\n                    buildTranfrom(type, mode);\n                });\n            }\n\n            return this.animation;\n        },\n        animationType(type) {\n            return {\n                fade: type ? 1 : 0,\n                'slide-top': `translateY(${type ? '0' : '-100%'})`,\n                'slide-right': `translateX(${type ? '0' : '100%'})`,\n                'slide-bottom': `translateY(${type ? '0' : '100%'})`,\n                'slide-left': `translateX(${type ? '0' : '-100%'})`,\n                'zoom-in': `scaleX(${type ? 1 : 0.8}) scaleY(${\n                    type ? 1 : 0.8\n                })`,\n                'zoom-out': `scaleX(${type ? 1 : 1.2}) scaleY(${\n                    type ? 1 : 1.2\n                })`,\n            };\n        },\n        // 内置动画类型与实际动画对应字典\n        animationMode() {\n            return {\n                fade: 'opacity',\n                'slide-top': 'translateY',\n                'slide-right': 'translateX',\n                'slide-bottom': 'translateY',\n                'slide-left': 'translateX',\n                'zoom-in': 'scale',\n                'zoom-out': 'scale',\n            };\n        },\n        // 驼峰转中横线\n        toLine(name) {\n            return name.replace(/([A-Z])/g, '-$1').toLowerCase();\n        },\n    },\n};\n</script>\n\n<style></style>\n"],"sourceRoot":""}